# ğŸ—ï¸ Task Master Pro æ¶æ„å®¡æŸ¥è¯¦è§£

**å®¡æŸ¥è€…**: first-principles-fullstack-architect
**æ—¥æœŸ**: 2025å¹´11æœˆ12æ—¥
**ç‰ˆæœ¬**: 1.0

---

## ğŸ“‘ ç›®å½•

1. [ç°çŠ¶æ¦‚è§ˆ](#ç°çŠ¶æ¦‚è§ˆ)
2. [æ ¸å¿ƒä¼˜åŠ¿](#æ ¸å¿ƒä¼˜åŠ¿)
3. [å…³é”®é—®é¢˜è¯¦è§£](#å…³é”®é—®é¢˜è¯¦è§£)
4. [é«˜ä¼˜å…ˆçº§é—®é¢˜](#é«˜ä¼˜å…ˆçº§é—®é¢˜)
5. [å®ç°è·¯çº¿å›¾](#å®ç°è·¯çº¿å›¾)
6. [æŠ€æœ¯å€ºæ¸…å•](#æŠ€æœ¯å€ºæ¸…å•)

---

## ç°çŠ¶æ¦‚è§ˆ

### é¡¹ç›®è§„æ¨¡

```
ä»£ç ç»“æ„:
â”œâ”€â”€ apps/              (8 ä¸ªåº”ç”¨)
â”‚   â”œâ”€â”€ api/          â†’ Express REST API
â”‚   â”œâ”€â”€ cli/          â†’ Node.js å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ mcp/          â†’ Model Context Protocol æœåŠ¡å™¨
â”‚   â”œâ”€â”€ docs/         â†’ Mintlify æ–‡æ¡£ç½‘ç«™
â”‚   â””â”€â”€ ...
â”œâ”€â”€ packages/          (6 ä¸ªåŒ…)
â”‚   â”œâ”€â”€ tm-core/      â†’ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæœ€é‡è¦ï¼ï¼‰
â”‚   â”œâ”€â”€ tm-bridge/    â†’ é—ç•™ä»£ç æ¡¥æ¥
â”‚   â”œâ”€â”€ tm-python-sdk/ â†’ Python é›†æˆ SDK
â”‚   â””â”€â”€ ...
â”œâ”€â”€ scripts/           â†’ é—ç•™è„šæœ¬ï¼ˆéœ€è¿ç§»ï¼‰
â””â”€â”€ tests/             â†’ E2E æµ‹è¯•

ç±»å‹å®‰å…¨: âœ… å…¨ TypeScript + Strict æ¨¡å¼
æµ‹è¯•è¦†ç›–: âœ… 987 ä¸ªæµ‹è¯•æ–‡ä»¶
æ‰“åŒ…å·¥å…·: âœ… Turborepo + npm workspaces
ä»£ç è¡Œæ•°: 30,000+ è¡Œ
```

### æ¶æ„é£æ ¼

```
åˆ†å±‚æ¶æ„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   è¡¨ç°å±‚ (Presentation)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CLI     â”‚   API    â”‚   MCP     â”‚ (ä¸‰ä¸ªè¡¨ç°å±‚)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  @tm/core (ä¸šåŠ¡é€»è¾‘å±‚)         â”‚ (å•ä¸€çœŸå®æ¥æº)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å­˜å‚¨å±‚ (æ–‡ä»¶ç³»ç»Ÿ/æ•°æ®åº“)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åŸŸåˆ’åˆ†ï¼ˆ@tm/core å†…éƒ¨ï¼‰:
â”œâ”€â”€ TasksDomain     â†’ ä»»åŠ¡ç®¡ç†
â”œâ”€â”€ AuthDomain      â†’ è®¤è¯æˆæƒ
â”œâ”€â”€ WorkflowDomain  â†’ å·¥ä½œæµç¼–æ’
â”œâ”€â”€ GitDomain       â†’ Git æ“ä½œ
â”œâ”€â”€ ConfigDomain    â†’ é…ç½®ç®¡ç†
â””â”€â”€ IntegrationDomain â†’ å¤–éƒ¨é›†æˆ
```

---

## æ ¸å¿ƒä¼˜åŠ¿

### 1. ä¼˜ç§€çš„é¢†åŸŸé©±åŠ¨è®¾è®¡ (DDD)

**å½“å‰çŠ¶æ€** âœ…

```typescript
// @tm/core æ˜¯ä¸šåŠ¡é€»è¾‘çš„å”¯ä¸€æ¥æº
class TmCore {
  tasks: TasksDomain;
  auth: AuthDomain;
  workflow: WorkflowDomain;
  git: GitDomain;
  config: ConfigDomain;
  integration: IntegrationDomain;
}

// è¡¨ç°å±‚åªæ˜¯è–„åŒ…è£…
class CLIHandler {
  async handleShowTask(id: string) {
    // âœ… æ­£ç¡®: è°ƒç”¨ tmCore
    const task = await this.tmCore.tasks.get(id);
    console.log(formatTask(task));
  }
}

class APIController {
  async getTask(req: Request, res: Response) {
    // âœ… æ­£ç¡®: é€šè¿‡ tmCore è·å–æ•°æ®
    const task = await this.tmCore.tasks.get(req.params.id);
    res.json(task);
  }
}
```

**å¥½å¤„**:
- ä¸šåŠ¡é€»è¾‘ä¸ä¾èµ–äºè¡¨ç°å±‚æ¡†æ¶
- å¯è½»æ¾æ›¿æ¢ CLIã€APIã€MCPã€æ‰©å±•è€Œä¸æ”¹å˜æ ¸å¿ƒ
- æ˜“äºæµ‹è¯•ï¼ˆmock ä¸šåŠ¡é€»è¾‘ï¼Œè€Œéæ¡†æ¶ï¼‰
- ä»£ç å¤ç”¨æœ€å¤§åŒ–

---

### 2. å¼ºå¤§çš„ç±»å‹å®‰å…¨

**å½“å‰çŠ¶æ€** âœ…

```typescript
// å®Œæ•´çš„ç±»å‹å®šä¹‰
interface Task {
  id: string;
  title: string;
  status: 'pending' | 'in-progress' | 'done' | 'deferred' | 'cancelled' | 'blocked';
  priority: 'low' | 'medium' | 'high';
  dependencies: string[];
  subtasks: Task[];
  createdAt: Date;
  updatedAt: Date;
}

// ç±»å‹æ£€æŸ¥çš„ API è°ƒç”¨
async function updateTask(id: string, update: Partial<Task>): Promise<Task> {
  // TypeScript ç¼–è¯‘æ—¶æ£€æŸ¥å­—æ®µæœ‰æ•ˆæ€§
  if (update.status === 'invalid') { // âŒ ç¼–è¯‘é”™è¯¯ï¼
    // ...
  }
}

// ä¸¥æ ¼çš„ null æ£€æŸ¥
function processTask(task: Task | null): void {
  if (!task) return;  // âœ… å¿…é¡»æ£€æŸ¥ null
  console.log(task.title); // âœ… å®‰å…¨
}
```

**è¦†ç›–èŒƒå›´**:
- æ‰€æœ‰å…¬å…± API éƒ½æœ‰ç±»å‹å®šä¹‰
- ä¸¥æ ¼çš„ null æ£€æŸ¥å¯ç”¨
- æ²¡æœ‰ any ç±»å‹ï¼ˆæˆ–å¾ˆå°‘ï¼‰
- IDE è¡¥å…¨å’Œé‡æ„å·¥å…·å®Œæ•´

---

### 3. ç»„ç»‡è‰¯å¥½çš„ Monorepo

**å½“å‰çŠ¶æ€** âœ…

```
ä½¿ç”¨ Turborepo ç®¡ç†:
âœ… ä¾èµ–å’Œå¼•ç”¨ä¸€è‡´æ€§æ£€æŸ¥ (manypkg)
âœ… å¹¶è¡Œæ„å»ºå’Œæµ‹è¯•
âœ… å…±äº«ç¼“å­˜åŠ é€Ÿ
âœ… ç±»å‹æ£€æŸ¥è·¨åŒ…

åŒ…ä¾èµ–å…³ç³»:
@tm/core
  â†‘
  â”œâ”€â”€ @tm/cli ------â†’ å‘½ä»¤è¡Œå·¥å…·
  â”œâ”€â”€ @tm/api ------â†’ REST API
  â”œâ”€â”€ @tm/mcp ------â†’ MCP æœåŠ¡å™¨
  â””â”€â”€ @tm/bridge ----â†’ é—ç•™ä»£ç æ”¯æŒ

å¥½å¤„:
- å•ä¸ª npm install å®‰è£…æ‰€æœ‰åŒ…
- ç‰ˆæœ¬åŒæ­¥è‡ªåŠ¨ç®¡ç†
- è·¨åŒ…å¼•ç”¨ç¼–è¯‘æ£€æŸ¥
- å…±äº«å·¥å…·å’Œé…ç½®
```

---

### 4. æ‰å®çš„ API åŸºç¡€

**å½“å‰å®ç°** âœ…

```javascript
// middleware ç®¡é“ç»„ç»‡æ¸…æ™°
app.use(errorHandler);
app.use(cors());
app.use(compression());
app.use(requestLogger);
app.use(authMiddleware);
app.use(cachingMiddleware);
app.use(rateLimitMiddleware);

// JWT è®¤è¯
const authMiddleware = (req, res, next) => {
  const token = req.headers.authorization?.split(' ')[1];
  if (!token) return res.status(401).json({ error: 'Unauthorized' });

  try {
    req.user = jwt.verify(token, process.env.JWT_SECRET);
    next();
  } catch (err) {
    res.status(403).json({ error: 'Invalid token' });
  }
};

// é€Ÿç‡é™åˆ¶
const rateLimitMiddleware = rateLimit({
  windowMs: 900000,  // 15 åˆ†é’Ÿ
  max: 100,          // 100 æ¬¡è¯·æ±‚
  keyGenerator: (req) => req.user?.id || req.ip  // æŒ‰ç”¨æˆ·æˆ– IP
});

// ç¼“å­˜æœºåˆ¶
const cachingMiddleware = (req, res, next) => {
  if (req.method !== 'GET') {
    return next(); // ä»…ç¼“å­˜ GET è¯·æ±‚
  }

  const cached = cache.get(generateKey(req));
  if (cached) {
    return res.json(cached); // ç«‹å³è¿”å›ç¼“å­˜
  }

  // æ‹¦æˆªå“åº”ä»¥ç¼“å­˜
  const originalJson = res.json.bind(res);
  res.json = (data) => {
    cache.set(generateKey(req), data, 300000); // 5 åˆ†é’Ÿ TTL
    return originalJson(data);
  };

  next();
};
```

---

## å…³é”®é—®é¢˜è¯¦è§£

### ğŸ”´ é—®é¢˜ 1: API è¿”å› Mock æ•°æ®

**é—®é¢˜æè¿°**

```typescript
// âŒ å½“å‰ API å®ç°
class TaskService {
  async list() {
    // è¿”å›ç¡¬ç¼–ç çš„ Mock æ•°æ®ï¼
    return [
      { id: '1', title: 'Mock Task', status: 'pending' },
      { id: '2', title: 'Another Mock', status: 'in-progress' }
    ];
  }

  async create(data: CreateTaskRequest) {
    // è¿”å›å‡æ•°æ®ï¼Œä¸çœŸæ­£ä¿å­˜
    return { id: 'mock-id', ...data };
  }

  async update(id: string, data: UpdateTaskRequest) {
    // ä¸çœŸæ­£æ›´æ–°ï¼Œåªè¿”å› Mock
    return { id, ...data };
  }
}
```

**å®é™…å½±å“**

```
ç”¨æˆ·æ“ä½œæµç¨‹:
1. ç”¨æˆ·é€šè¿‡ CLI åˆ›å»ºä»»åŠ¡: TAMP add-task --title="å®ç°ç™»å½•"
   âœ… CLI è°ƒç”¨ @tm/core â†’ ä»»åŠ¡æˆåŠŸä¿å­˜åˆ° .taskmaster/tasks.json

2. ç”¨æˆ·é€šè¿‡ API æŸ¥è¯¢: GET /api/v1/tasks
   âŒ API è¿”å› Mock æ•°æ®ï¼Œç”¨æˆ·çœ‹ä¸åˆ°ä»–ä»¬çš„ä»»åŠ¡ï¼

3. ç”¨æˆ·å›°æƒ‘ï¼š"æˆ‘åˆšåˆ›å»ºçš„ä»»åŠ¡å‘¢ï¼Ÿ"

4. é¡¹ç›®è¯„ä¼°: "API æ— æ³•æ­£å¸¸å·¥ä½œï¼Œä¸èƒ½ç”¨äºç”Ÿäº§"

å…³é”®é—®é¢˜: API å±‚å®Œå…¨ç»•è¿‡äº† @tm/coreï¼Œæ‰€ä»¥ï¼š
- API çœ‹ä¸åˆ° CLI åˆ›å»ºçš„ä»»åŠ¡
- API åˆ›å»ºçš„ä»»åŠ¡æ²¡æœ‰çœŸæ­£ä¿å­˜
- API æ— æ³•ä¸ CLI åŒæ­¥
```

**ä¿®å¤æ–¹æ¡ˆ**

```typescript
// âœ… ä¿®å¤åçš„å®ç°
class TaskService {
  constructor(private tmCore: TmCore) {}

  async list(query?: QueryParams) {
    // ç›´æ¥è°ƒç”¨ tmCoreï¼Œè·å–çœŸå®æ•°æ®
    return await this.tmCore.tasks.list({
      status: query?.status,
      priority: query?.priority,
      limit: query?.limit || 100
    });
  }

  async create(data: CreateTaskRequest) {
    // é€šè¿‡ tmCore åˆ›å»ºçœŸå®ä»»åŠ¡
    return await this.tmCore.tasks.create(data);
  }

  async update(id: string, data: UpdateTaskRequest) {
    // é€šè¿‡ tmCore æ›´æ–°çœŸå®ä»»åŠ¡
    return await this.tmCore.tasks.update(id, data);
  }

  async delete(id: string) {
    // é€šè¿‡ tmCore åˆ é™¤çœŸå®ä»»åŠ¡
    return await this.tmCore.tasks.delete(id);
  }
}
```

**ä¿®å¤å·¥ä½œé‡**: 2-3 å¤©

**ä¾èµ–å…³ç³»**: æ— ï¼Œå¯ç‹¬ç«‹ä¿®å¤

---

### ğŸ”´ é—®é¢˜ 2: ç¼“å­˜ä¸ä¸€è‡´

**é—®é¢˜æ¼”ç¤º**

```
æ—¶åˆ»  CLI è¿›ç¨‹              API è¿›ç¨‹            ç¼“å­˜çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

T0   è¯»å– tasks.json
     ID=1, status=pending

T1                         GET /api/v1/tasks/1
                           ç¼“å­˜ MISS, è¯»å–æ–‡ä»¶
                           ID=1, status=pending
                           ç¼“å­˜å‘½ä¸­æ—¶é—´è®¾ç½®è‡³ T1+300s

T2   TAMP set-status --id=1 --status=done
     ä¿®æ”¹ tasks.json
     ID=1, status=done âœ… æ–‡ä»¶å·²æ›´æ–°

T3                         GET /api/v1/tasks/1
                           ç¼“å­˜ HIT!
                           è¿”å›ç¼“å­˜æ•°æ®
                           ID=1, status=pending âŒ è¿‡æœŸæ•°æ®ï¼

T4   ï¼ˆç­‰å¾… 5 åˆ†é’Ÿ...)

T5+300s                    GET /api/v1/tasks/1
                           ç¼“å­˜è¿‡æœŸï¼Œé‡æ–°è¯»å–
                           ID=1, status=done âœ… ç°åœ¨æ­£ç¡®

é—®é¢˜: 5 åˆ†é’Ÿå†…ç”¨æˆ·çœ‹åˆ°é”™è¯¯çš„æ•°æ®ï¼
```

**ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿï¼Ÿ**

```typescript
// âŒ å½“å‰ç¼“å­˜å®ç°
cache.set(key, data, 300000); // 5 åˆ†é’Ÿå›ºå®šè¿‡æœŸ

// é—®é¢˜: ç¼“å­˜ä¸­çš„æ•°æ®åœ¨"è§‚å¯Ÿä¸åˆ°"çš„åœ°æ–¹æ”¹å˜
// CLI ä¿®æ”¹ tasks.jsonï¼Œä½† API ç¼“å­˜ä¸çŸ¥é“

// API æœ‰ç¼“å­˜ï¼Œä½†æ²¡æœ‰å¤±æ•ˆæœºåˆ¶
// - æ–‡ä»¶å˜æ›´æ— é€šçŸ¥æœºåˆ¶
// - æ— è·¨å±‚åŒæ­¥
// - æ— æ–‡ä»¶ç³»ç»Ÿç›‘å¬
```

**ä¿®å¤æ–¹æ¡ˆ**

```typescript
// æ–¹æ¡ˆ 1: æ–‡ä»¶ç³»ç»Ÿç›‘å¬ï¼ˆæœ€ä½³ï¼‰
import { watch } from 'fs';

const tasksFilePath = '.taskmaster/tasks/tasks.json';

watch(tasksFilePath, () => {
  // ä»»ä½•å¤–éƒ¨ä¿®æ”¹éƒ½ä¼šè§¦å‘
  cache.invalidatePattern('tasks:*');
  console.log('ç¼“å­˜å·²æ¸…é™¤ - æ–‡ä»¶è¢«å¤–éƒ¨ä¿®æ”¹');
});

// æ–¹æ¡ˆ 2: è·¨è¿›ç¨‹é€šçŸ¥ï¼ˆIPCï¼‰
const ipc = require('node-ipc');

ipc.serve(() => {
  ipc.server.on('task:updated', (data) => {
    cache.invalidatePattern(`tasks:${data.taskId}`);
  });
});

// CLI ä¿®æ”¹åå‘é€é€šçŸ¥
await this.tmCore.tasks.update(id, data);
ipc.of.server.emit('task:updated', { taskId: id });

// æ–¹æ¡ˆ 3: Redis å‘å¸ƒ-è®¢é˜…ï¼ˆå¤šè¿›ç¨‹éƒ¨ç½²ï¼‰
const redis = require('redis');

redis.subscribe('task-changes', (message) => {
  const { taskId } = JSON.parse(message);
  cache.invalidate(`tasks:${taskId}`);
});

// ä¿®æ”¹æ—¶å‘å¸ƒäº‹ä»¶
await this.tmCore.tasks.update(id, data);
redis.publish('task-changes', JSON.stringify({ taskId: id }));
```

**ä¿®å¤å·¥ä½œé‡**: 1-2 å¤©

**ä¾èµ–**: ä¿®å¤åéœ€è¦é›†æˆæµ‹è¯•

---

### ğŸ”´ é—®é¢˜ 3: æ–‡ä»¶å¹¶å‘å†™å…¥é£é™©

**æ•°æ®æŸååœºæ™¯**

```
Timeline    Process A (CLI)           Process B (API)         tasks.json çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

T0                                                            { tasks: [...] }

T1          è¯»å– tasks.json
            è·å¾—å®Œæ•´æ•°æ®å¯¹è±¡

T2                                    è¯»å– tasks.json
                                       è·å¾—å®Œæ•´æ•°æ®å¯¹è±¡
                                       ï¼ˆä¸ A è·å¾—ç›¸åŒå†…å®¹ï¼‰

T3          ä¿®æ”¹ä»»åŠ¡ 1 çŠ¶æ€ä¸º done
            ä¿®æ”¹å†…å­˜æ•°æ®

T4                                    ä¿®æ”¹ä»»åŠ¡ 2 æ ‡é¢˜
                                       ä¿®æ”¹å†…å­˜æ•°æ®

T5          å†™å…¥ tasks.json
            (å«ä»»åŠ¡ 1 çš„ä¿®æ”¹)
            è¦†ç›–æ–‡ä»¶å†…å®¹

T6                                    å†™å…¥ tasks.json
                                       (å«ä»»åŠ¡ 2 çš„ä¿®æ”¹)
                                       è¦†ç›–æ–‡ä»¶å†…å®¹ âŒ

ç»“æœ: ä»»åŠ¡ 1 çš„ä¿®æ”¹ä¸¢å¤±ï¼ DATA LOSS!

tasks.json æœ€ç»ˆçŠ¶æ€: { tasks: [ä»»åŠ¡1åŸå§‹, ä»»åŠ¡2å·²ä¿®æ”¹] }
æœŸæœ›çŠ¶æ€:          { tasks: [ä»»åŠ¡1å·²ä¿®æ”¹, ä»»åŠ¡2å·²ä¿®æ”¹] }
```

**ä¸ºä»€ä¹ˆè¿™å¾ˆä¸¥é‡ï¼Ÿ**

```
åœºæ™¯: Kubernetes è‡ªåŠ¨æ‰©å±•

åˆå§‹: 1 ä¸ª API Pod
åˆ›å»º: 2 ä¸ª API Podï¼ˆå¤„ç†çªå‘æµé‡ï¼‰
ç°åœ¨: 3 ä¸ª Pod + 1 ä¸ª CLI Pod éƒ½åœ¨è®¿é—® tasks.json

é£é™©:
- 4 ä¸ªè¿›ç¨‹ç«äº‰ä¿®æ”¹åŒä¸€æ–‡ä»¶
- æ— æ–‡ä»¶çº§é”
- æœ€åå†™å…¥çš„æ•°æ®è¦†ç›–æ‰€æœ‰ä¹‹å‰çš„ä¿®æ”¹
- æ•°æ®æŸåä¸å¯æ¢å¤

ç°å®ä¸­: Kubernetes ä¼šæ‰©å±•åˆ°å¤šä¸ª Podï¼Œè¿™ä¸ªé—®é¢˜ 100% ä¼šå‘ç”Ÿ
ç»“æœ: ç”¨æˆ·åˆ›å»ºçš„ä»»åŠ¡ä¼šä¸¢å¤±ï¼Œæ— æ³•æ¢å¤
```

**ä¿®å¤æ–¹æ¡ˆ**

```typescript
// æ–¹æ¡ˆ 1: åŸå­å†™å…¥ + æ–‡ä»¶é”ï¼ˆæœ€ä½³ï¼‰
import { writeFile, rename } from 'fs/promises';
import { lockfile } from 'proper-lockfile';

class AtomicFileStorage {
  async save(data: any) {
    const lockPath = '.taskmaster/tasks.lock';
    let release;

    try {
      // è·å–äº’æ–¥é”ï¼ˆå…¶ä»–è¿›ç¨‹å¿…é¡»ç­‰å¾…ï¼‰
      release = await lockfile.lock(lockPath);

      // å†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼ˆä¸è¦†ç›–åŸå§‹æ–‡ä»¶ï¼‰
      const tempPath = '.taskmaster/tasks.tmp';
      await writeFile(
        tempPath,
        JSON.stringify(data, null, 2),
        { encoding: 'utf-8' }
      );

      // åŸå­é‡å‘½åï¼ˆæ“ä½œç³»ç»Ÿçº§åˆ«ï¼Œä¸å¯ä¸­æ–­ï¼‰
      await rename(tempPath, '.taskmaster/tasks/tasks.json');

    } finally {
      // é‡Šæ”¾é”ï¼Œå…¶ä»–è¿›ç¨‹å¯ä»¥ç»§ç»­
      if (release) await release();
    }
  }

  async read() {
    const lockPath = '.taskmaster/tasks.lock';
    let release;

    try {
      // è¯»æ“ä½œä¹Ÿéœ€è¦é”ï¼ˆé˜²æ­¢è¯»å–æ­£åœ¨å†™å…¥çš„æ–‡ä»¶ï¼‰
      release = await lockfile.lock(lockPath);

      const content = await readFile(
        '.taskmaster/tasks/tasks.json',
        { encoding: 'utf-8' }
      );
      return JSON.parse(content);

    } finally {
      if (release) await release();
    }
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const storage = new AtomicFileStorage();

// ä¿®æ”¹å‰è·å–æœ€æ–°æ•°æ®
const tasks = await storage.read();
tasks[0].status = 'done';

// åŸå­åœ°ä¿å­˜ï¼ˆä¸ä¼šéƒ¨åˆ†æ›´æ–°ï¼‰
await storage.save({ tasks });
```

**ä¿®å¤å·¥ä½œé‡**: 1-2 å¤©

**ä¾èµ–**: æ·»åŠ  `proper-lockfile` åŒ…

---

## é«˜ä¼˜å…ˆçº§é—®é¢˜

### ğŸŸ¡ é—®é¢˜ 4: å­˜å‚¨æŠ½è±¡ä¸å®Œæ•´

**å½“å‰é—®é¢˜**

```typescript
// âŒ å­˜å‚¨ç›´æ¥ç»‘å®šåœ¨ä¸šåŠ¡é€»è¾‘ä¸­
class TasksDomain {
  private tasksFilePath = '.taskmaster/tasks/tasks.json';

  async list() {
    // ç›´æ¥è¯»æ–‡ä»¶
    const content = await readFile(this.tasksFilePath);
    return JSON.parse(content);
  }

  async save(tasks: Task[]) {
    // ç›´æ¥å†™æ–‡ä»¶
    await writeFile(this.tasksFilePath, JSON.stringify(tasks));
  }
}

// é—®é¢˜:
// - ä¸šåŠ¡é€»è¾‘ä¸æ–‡ä»¶ I/O ç´§å¯†è€¦åˆ
// - è¦è¿ç§»åˆ°æ•°æ®åº“å¿…é¡»å¤§å¹…é‡æ„
// - æ— æ³•ä¸ºå•å…ƒæµ‹è¯•è½»æ¾ mock å­˜å‚¨
```

**ä¿®å¤æ–¹æ¡ˆ**

```typescript
// âœ… å­˜å‚¨æŠ½è±¡ï¼ˆç­–ç•¥æ¨¡å¼ï¼‰
interface ITasksStorage {
  list(): Promise<Task[]>;
  save(tasks: Task[]): Promise<void>;
  get(id: string): Promise<Task | null>;
  update(id: string, data: Partial<Task>): Promise<Task>;
}

// æ–‡ä»¶å­˜å‚¨å®ç°
class FileTasksStorage implements ITasksStorage {
  constructor(private filePath: string) {}

  async list(): Promise<Task[]> {
    const content = await readFile(this.filePath);
    return JSON.parse(content);
  }

  async save(tasks: Task[]): Promise<void> {
    await writeFile(this.filePath, JSON.stringify(tasks));
  }

  // ... å…¶ä»–æ–¹æ³•
}

// æ•°æ®åº“å­˜å‚¨å®ç°ï¼ˆæœªæ¥ä½¿ç”¨ï¼‰
class PostgresTasksStorage implements ITasksStorage {
  constructor(private db: Database) {}

  async list(): Promise<Task[]> {
    return await this.db.query('SELECT * FROM tasks');
  }

  async save(tasks: Task[]): Promise<void> {
    for (const task of tasks) {
      await this.db.upsert('tasks', task);
    }
  }

  // ... å…¶ä»–æ–¹æ³•
}

// ä¸šåŠ¡é€»è¾‘ä½¿ç”¨æŠ½è±¡
class TasksDomain {
  constructor(private storage: ITasksStorage) {}

  async list() {
    // è°ƒç”¨æŠ½è±¡æ¥å£ï¼Œä¸çŸ¥é“åº•å±‚æ˜¯æ–‡ä»¶è¿˜æ˜¯æ•°æ®åº“
    return await this.storage.list();
  }

  async save(tasks: Task[]) {
    // å®Œå…¨è§£è€¦ï¼
    return await this.storage.save(tasks);
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const fileStorage = new FileTasksStorage('.taskmaster/tasks.json');
const tasksDomain = new TasksDomain(fileStorage);

// æˆ–è€…ï¼ˆæœªæ¥è¿ç§»åˆ° PostgreSQLï¼‰
const dbStorage = new PostgresTasksStorage(database);
const tasksDomain = new TasksDomain(dbStorage); // ä¸šåŠ¡é€»è¾‘ä¸å˜ï¼
```

**å¥½å¤„**:
- ä¸šåŠ¡é€»è¾‘ä¸å­˜å‚¨å®Œå…¨åˆ†ç¦»
- å®¹æ˜“æµ‹è¯•ï¼ˆæ³¨å…¥ mock å­˜å‚¨ï¼‰
- è¿ç§»æ•°æ®åº“åªéœ€æ–°å¢ä¸€ä¸ªå®ç°ç±»
- å¤šå­˜å‚¨æ”¯æŒå˜å¾—ç®€å•

**ä¿®å¤å·¥ä½œé‡**: 3-5 å¤©

---

### ğŸŸ¡ é—®é¢˜ 5: æ— è·¨å±‚å˜æ›´é€šçŸ¥

**å½“å‰é—®é¢˜**

```typescript
// CLI ä¿®æ”¹ä»»åŠ¡
const cli = new CLIHandler(tmCore);
await cli.updateTask('1', { status: 'done' }); // âœ… æ–‡ä»¶å·²æ”¹

// API ä¸çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆ
const api = new APIServer(tmCore);
const task = await api.getTask('1');
console.log(task.status); // âŒ å¯èƒ½è¿”å›æ—§æ•°æ®ï¼ˆç¼“å­˜ä¸­ï¼‰

// å¦‚æœæœ‰ WebSocket è¿æ¥å‘¢ï¼Ÿ
wsServer.broadcast({ type: 'task:updated', taskId: '1' }); // è°å¹¿æ’­ï¼Ÿæ²¡äººï¼
```

**ä¿®å¤æ–¹æ¡ˆ**

```typescript
// äº‹ä»¶é©±åŠ¨æ¶æ„
interface DomainEvent {
  type: string;
  timestamp: Date;
  data: any;
}

class EventBus {
  private listeners: Map<string, Function[]> = new Map();

  subscribe(eventType: string, handler: Function) {
    if (!this.listeners.has(eventType)) {
      this.listeners.set(eventType, []);
    }
    this.listeners.get(eventType)!.push(handler);
  }

  async publish(event: DomainEvent) {
    const handlers = this.listeners.get(event.type) || [];
    for (const handler of handlers) {
      await handler(event);
    }
  }
}

// åœ¨ TasksDomain ä¸­å‘å¸ƒäº‹ä»¶
class TasksDomain {
  constructor(
    private storage: ITasksStorage,
    private events: EventBus
  ) {}

  async update(id: string, data: Partial<Task>) {
    const updated = await this.storage.update(id, data);

    // å‘å¸ƒäº‹ä»¶é€šçŸ¥æ‰€æœ‰ç›‘å¬è€…
    await this.events.publish({
      type: 'task:updated',
      timestamp: new Date(),
      data: { taskId: id, changes: data }
    });

    return updated;
  }
}

// API å±‚ç›‘å¬äº‹ä»¶
class APIServer {
  constructor(private tmCore: TmCore) {
    // ä»»ä½•ä»»åŠ¡æ›´æ–°éƒ½ä¼šæ¸…é™¤ç¼“å­˜
    this.tmCore.events.subscribe('task:updated', (event) => {
      this.cache.invalidate(`tasks:${event.data.taskId}`);
    });

    // ä»»ä½•ä»»åŠ¡æ›´æ–°éƒ½ä¼šå¹¿æ’­ç»™ WebSocket å®¢æˆ·ç«¯
    this.tmCore.events.subscribe('task:updated', (event) => {
      this.wsServer.broadcast({
        type: 'task:updated',
        taskId: event.data.taskId,
        changes: event.data.changes
      });
    });
  }
}

// CLI ä½¿ç”¨ç›¸åŒçš„ EventBus
class CLIHandler {
  constructor(private tmCore: TmCore) {
    // CLI ä¹Ÿå¯ä»¥ç›‘å¬äº‹ä»¶ï¼ˆä¾‹å¦‚æ‰¹é‡æ“ä½œé€šçŸ¥ï¼‰
    this.tmCore.events.subscribe('task:created', (event) => {
      console.log(`âœ… ä»»åŠ¡å·²åˆ›å»º: ${event.data.taskId}`);
    });
  }
}
```

**å¥½å¤„**:
- å±‚é—´é€šä¿¡è§£è€¦
- æ”¯æŒå®æ—¶æ›´æ–°ï¼ˆWebSocketï¼‰
- æ˜“äºæ·»åŠ æ–°çš„ç›‘å¬å™¨ï¼ˆæ—¥å¿—ã€ç›‘æ§ã€é€šçŸ¥ç­‰ï¼‰
- æ˜“äºæµ‹è¯•ï¼ˆmock äº‹ä»¶æ€»çº¿ï¼‰

**ä¿®å¤å·¥ä½œé‡**: 2-3 å¤©

---

## å®ç°è·¯çº¿å›¾

### ç¬¬ 1 å‘¨ - ç¨³å®šæ€§ï¼ˆå…³é”®é—®é¢˜ï¼‰

```
ç›®æ ‡: è®© API èƒ½ç”¨ï¼Œä¿®å¤æ•°æ®æŸåé£é™©

Day 1-2: API-to-TmCore é›†æˆ
â”œâ”€â”€ ä¿®å¤ TaskService.list() è¿”å›çœŸå®æ•°æ®
â”œâ”€â”€ ä¿®å¤ TaskService.create() ä¿å­˜åˆ° tmCore
â”œâ”€â”€ ä¿®å¤ TaskService.update() ä¿®æ”¹çœŸå®ä»»åŠ¡
â”œâ”€â”€ ç¼–å†™é›†æˆæµ‹è¯•
â””â”€â”€ éªŒè¯ CLI + API åŒæ­¥å·¥ä½œ

Day 2-3: åŸå­æ–‡ä»¶å†™å…¥
â”œâ”€â”€ æ·»åŠ  proper-lockfile åŒ…
â”œâ”€â”€ å®ç°åŸå­å†™å…¥æœºåˆ¶
â”œâ”€â”€ æ·»åŠ æ–‡ä»¶é”å®š
â”œâ”€â”€ å¹¶å‘æµ‹è¯•ï¼ˆå¤šè¿›ç¨‹æ¨¡æ‹Ÿï¼‰
â””â”€â”€ éªŒè¯æ— æ•°æ®æŸå

Day 3-4: æ–‡ä»¶ç³»ç»Ÿç›‘å¬ç¼“å­˜å¤±æ•ˆ
â”œâ”€â”€ å®ç°æ–‡ä»¶å˜æ›´ç›‘å¬
â”œâ”€â”€ å½“æ–‡ä»¶å˜æ›´æ—¶æ¸…é™¤ç¼“å­˜
â”œâ”€â”€ è·¨å±‚ç¼“å­˜åŒæ­¥
â”œâ”€â”€ é›†æˆæµ‹è¯•
â””â”€â”€ éªŒè¯ç¼“å­˜ä¸€è‡´æ€§

Day 4-5: é›†æˆæµ‹è¯•å’ŒéªŒè¯
â”œâ”€â”€ ç«¯åˆ°ç«¯åœºæ™¯æµ‹è¯•
â”œâ”€â”€ å¹¶å‘åœºæ™¯æµ‹è¯•
â”œâ”€â”€ æ€§èƒ½åŸºå‡†æµ‹è¯•
â”œâ”€â”€ æ–‡æ¡£æ›´æ–°
â””â”€â”€ å‘å¸ƒ v1.1.0

æˆæœ:
âœ… API è¿”å›çœŸå®æ•°æ®
âœ… CLI + API æ•°æ®åŒæ­¥
âœ… æ— ç¼“å­˜è¿‡æœŸå»¶è¿Ÿ
âœ… æ–‡ä»¶å¹¶å‘å®‰å…¨
```

**å„é¡¹å·¥ä½œè¯¦ç»†è®¡åˆ’** (å®Œæ•´ä»£ç è§ IMPLEMENTATION_GUIDE.md)

---

### ç¬¬ 2-3 å‘¨ - æŠ½è±¡åŒ–ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

```
ç›®æ ‡: ä¸ºæ•°æ®åº“è¿ç§»å’Œæ‰©å±•åšå‡†å¤‡

å‘¨ 2:
â”œâ”€â”€ å­˜å‚¨æŠ½è±¡å®ç°
â”‚   â”œâ”€â”€ åˆ›å»º ITasksStorage æ¥å£
â”‚   â”œâ”€â”€ FileTasksStorage å®ç°
â”‚   â”œâ”€â”€ è¿ç§» TasksDomain ä½¿ç”¨æŠ½è±¡
â”‚   â””â”€â”€ æ›´æ–°æ‰€æœ‰ä¾èµ–
â”‚
â”œâ”€â”€ æ¨¡å‹é…ç½®è¿ç§»
â”‚   â”œâ”€â”€ ä» scripts/ ç§»åŠ¨åˆ° @tm/core
â”‚   â”œâ”€â”€ é‡å†™é—ç•™ä»£ç ä¸ºç°ä»£ TS
â”‚   â”œâ”€â”€ æ›´æ–° CLI å’Œ API å¼•ç”¨
â”‚   â””â”€â”€ åˆ é™¤æ—§æ–‡ä»¶
â”‚
â””â”€â”€ äº¤å‰å±‚äº‹ä»¶æ€»çº¿
    â”œâ”€â”€ å®ç° EventBus ç±»
    â”œâ”€â”€ TasksDomain å‘å¸ƒäº‹ä»¶
    â”œâ”€â”€ API/CLI è®¢é˜…äº‹ä»¶
    â””â”€â”€ WebSocket é›†æˆ

å‘¨ 3:
â”œâ”€â”€ PostgreSQL å­˜å‚¨å®ç°
â”‚   â”œâ”€â”€ åˆ›å»º PostgresTasksStorage
â”‚   â”œâ”€â”€ è¿ç§»è„šæœ¬ï¼ˆæ–‡ä»¶ â†’ DBï¼‰
â”‚   â”œâ”€â”€ åŒå†™éªŒè¯ï¼ˆå†™å…¥æ–‡ä»¶å’Œ DBï¼‰
â”‚   â””â”€â”€ ç°åº¦è¿ç§»å‡†å¤‡
â”‚
â”œâ”€â”€ åˆ†å¸ƒå¼ç¼“å­˜å‡†å¤‡
â”‚   â”œâ”€â”€ Redis æ¥å£å®ç°
â”‚   â”œâ”€â”€ å¤šè¿›ç¨‹ç¼“å­˜åŒæ­¥
â”‚   â””â”€â”€ è´Ÿè½½æµ‹è¯•
â”‚
â””â”€â”€ ä»£ç è´¨é‡
    â”œâ”€â”€ ç±»å‹æ£€æŸ¥ 100%
    â”œâ”€â”€ æµ‹è¯•è¦†ç›– 90%+
    â””â”€â”€ æ–‡æ¡£æ›´æ–°

æˆæœ:
âœ… å­˜å‚¨å®Œå…¨æŠ½è±¡åŒ–
âœ… æ”¯æŒå¤šç§å­˜å‚¨åç«¯
âœ… å¯è¿ç§»åˆ°æ•°æ®åº“æ— é£é™©
âœ… è·¨å±‚äº‹ä»¶é€šä¿¡å°±ä½
```

---

### ç¬¬ 4-6 å‘¨ - åˆ†å¸ƒå¼ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

```
ç›®æ ‡: æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²å’Œæ‰©å±•

å‘¨ 4-5:
â”œâ”€â”€ Redis é›†æˆ
â”‚   â”œâ”€â”€ åˆ†å¸ƒå¼ç¼“å­˜å®ç°
â”‚   â”œâ”€â”€ å¤šè¿›ç¨‹ç¼“å­˜åŒæ­¥
â”‚   â”œâ”€â”€ ç¼“å­˜é¢„çƒ­ç­–ç•¥
â”‚   â””â”€â”€ æ€§èƒ½ä¼˜åŒ–
â”‚
â”œâ”€â”€ åˆ†å¸ƒå¼é€Ÿç‡é™åˆ¶
â”‚   â”œâ”€â”€ Redis æ”¯æŒçš„ Token Bucket
â”‚   â”œâ”€â”€ è·¨å®ä¾‹é™åˆ¶åŒæ­¥
â”‚   â”œâ”€â”€ ç”¨æˆ·å’Œ IP åŒé‡è¯†åˆ«
â”‚   â””â”€â”€ é™æµæµ‹è¯•
â”‚
â””â”€â”€ å®æ—¶æ›´æ–°
    â”œâ”€â”€ WebSocket æœåŠ¡å™¨
    â”œâ”€â”€ Redis Pub/Sub é›†æˆ
    â”œâ”€â”€ å®¢æˆ·ç«¯è‡ªåŠ¨æ›´æ–°
    â””â”€â”€ è¿æ¥ç®¡ç†

å‘¨ 6:
â”œâ”€â”€ Kubernetes éƒ¨ç½²
â”‚   â”œâ”€â”€ åˆ›å»º Dockerfile
â”‚   â”œâ”€â”€ K8s éƒ¨ç½²æ¸…å•
â”‚   â”œâ”€â”€ ConfigMap å’Œ Secrets
â”‚   â”œâ”€â”€ è‡ªåŠ¨æ‰©å±•é…ç½®
â”‚   â”œâ”€â”€ é›¶åœæœºéƒ¨ç½²
â”‚   â””â”€â”€ ç›‘æ§é›†æˆ
â”‚
â””â”€â”€ æ–‡æ¡£å’Œæµ‹è¯•
    â”œâ”€â”€ éƒ¨ç½²æ–‡æ¡£
    â”œâ”€â”€ è¿ç»´æŒ‡å—
    â”œâ”€â”€ æ•…éšœæ’æŸ¥
    â”œâ”€â”€ è´Ÿè½½æµ‹è¯•æŠ¥å‘Š
    â””â”€â”€ æ€§èƒ½åŸºå‡†

æˆæœ:
âœ… æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²
âœ… Kubernetes å°±ç»ª
âœ… ä¼ä¸šçº§å¯é æ€§
âœ… æ°´å¹³æ‰©å±•å°±ä½
```

---

## æŠ€æœ¯å€ºæ¸…å•

| ID | é—®é¢˜ | å½“å‰çŠ¶æ€ | ä¼˜å…ˆçº§ | å·¥ä½œé‡ | çŠ¶æ€ |
|----|----|--------|--------|--------|------|
| TD-1 | API è¿”å› Mock æ•°æ® | âŒ æŸå | ğŸ”´ å…³é”® | 2-3d | Week 1 |
| TD-2 | ç¼“å­˜ä¸ä¸€è‡´ | âš ï¸ éƒ¨åˆ† | ğŸ”´ å…³é”® | 1-2d | Week 1 |
| TD-3 | å¹¶å‘å†™å…¥é£é™© | âŒ æœ‰é£é™© | ğŸ”´ å…³é”® | 1-2d | Week 1 |
| TD-4 | å­˜å‚¨æŠ½è±¡ä¸å®Œæ•´ | âš ï¸ éƒ¨åˆ† | ğŸŸ¡ é«˜ | 3-5d | Week 2 |
| TD-5 | æ— è·¨å±‚é€šçŸ¥ | âŒ ç¼ºå¤± | ğŸŸ¡ é«˜ | 2-3d | Week 2 |
| TD-6 | æ¨¡å‹é…ç½®åˆ†æ•£ | âš ï¸ æ··æ‚ | ğŸŸ¡ é«˜ | 2-3d | Week 2 |
| TD-7 | æ— å¤šå®ä¾‹æ”¯æŒ | âŒ ç¼ºå¤± | ğŸŸ¡ é«˜ | 1-2w | Week 4+ |
| TD-8 | é—ç•™ä»£ç æ··æ‚ | âš ï¸ bridges/ | ğŸŸ  ä¸­ | 1-2w | Week 2+ |
| TD-9 | æ— å®æ—¶åŠŸèƒ½ | âŒ ç¼ºå¤± | ğŸŸ  ä¸­ | 3-5d | Week 3 |
| TD-10 | ç›‘æ§ç¼ºå¤± | âŒ ç¼ºå¤± | ğŸŸ  ä¸­ | 1-2w | Week 4+ |

---

## æˆåŠŸæ ‡å‡†

### ç¬¬ 1 å‘¨æœ«

```
æµ‹è¯•é€šè¿‡:
â”œâ”€â”€ âœ… API è¿”å›çœŸå®ä»»åŠ¡ï¼Œé Mock æ•°æ®
â”œâ”€â”€ âœ… CLI å’Œ API ä»»åŠ¡åŒæ­¥ï¼ˆ5 ç§’å†…ï¼‰
â”œâ”€â”€ âœ… å¹¶å‘ä¿®æ”¹æ— æ•°æ®æŸå
â””â”€â”€ âœ… ç¼“å­˜è¿‡æœŸè‡ªåŠ¨æ¸…é™¤ï¼ˆ<100msï¼‰

æ€§èƒ½:
â”œâ”€â”€ âœ… å•ä»»åŠ¡æŸ¥è¯¢: <50msï¼ˆç¼“å­˜ï¼‰
â”œâ”€â”€ âœ… ä»»åŠ¡åˆ—è¡¨: <200msï¼ˆæ–‡ä»¶è¯»ï¼‰
â”œâ”€â”€ âœ… å¹¶å‘å†™å…¥: æ”¯æŒ 10+ è¿›ç¨‹
â””â”€â”€ âœ… ç¼“å­˜å‘½ä¸­ç‡: >80%

éƒ¨ç½²:
â”œâ”€â”€ âœ… å•å®ä¾‹ç¨³å®š 24 å°æ—¶
â”œâ”€â”€ âœ… æ— æ•°æ®æŸå
â””â”€â”€ âœ… API å’Œ CLI æ­£å¸¸å·¥ä½œ
```

### ç¬¬ 6 å‘¨æœ«ï¼ˆå®Œæ•´é¡¹ç›®ï¼‰

```
æ¶æ„:
â”œâ”€â”€ âœ… å®Œæ•´çš„ DDD åˆ†å±‚
â”œâ”€â”€ âœ… å­˜å‚¨å®Œå…¨æŠ½è±¡
â”œâ”€â”€ âœ… äº‹ä»¶é©±åŠ¨é€šä¿¡
â””â”€â”€ âœ… é›¶è€¦åˆè¡¨ç°å±‚

æ€§èƒ½:
â”œâ”€â”€ âœ… ç¼“å­˜å‘½ä¸­: >10,000 req/s
â”œâ”€â”€ âœ… æ•°æ®åº“æŸ¥è¯¢: >1,000 req/s
â”œâ”€â”€ âœ… P95 å»¶è¿Ÿ: <100ms
â””â”€â”€ âœ… æ”¯æŒ 1000+ å¹¶å‘ç”¨æˆ·

å¯é æ€§:
â”œâ”€â”€ âœ… Kubernetes éƒ¨ç½²
â”œâ”€â”€ âœ… è‡ªåŠ¨æ‰©å±•
â”œâ”€â”€ âœ… æ•…éšœè½¬ç§»
â”œâ”€â”€ âœ… 99.9% å¯ç”¨æ€§

å¯ç»´æŠ¤æ€§:
â”œâ”€â”€ âœ… >90% æµ‹è¯•è¦†ç›–
â”œâ”€â”€ âœ… å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ âœ… é›¶æŠ€æœ¯å€º
â””â”€â”€ âœ… å›¢é˜Ÿå¯å¿«é€Ÿå­¦ä¹ 
```

---

## ç»“è®º

### ç°çŠ¶è¯„ä»·

Task Master Pro æ‹¥æœ‰**ä¼˜ç§€çš„åŸºç¡€æ¶æ„**ï¼š

âœ… **æ¶æ„** - é¢†åŸŸé©±åŠ¨è®¾è®¡å®Œç¾å®ç°
âœ… **ä»£ç è´¨é‡** - å®Œæ•´çš„ç±»å‹å®‰å…¨å’Œæµ‹è¯•
âœ… **ç»„ç»‡** - Monorepo ç»“æ„æ¸…æ™°
âœ… **åŸºç¡€** - APIã€è®¤è¯ã€ç¼“å­˜ã€é™æµéƒ½åˆ°ä½

### ç«‹å³è¡ŒåŠ¨éœ€æ±‚

âš ï¸ **3 ä¸ªå…³é”®é—®é¢˜å¿…é¡»åœ¨ç¬¬ 1 å‘¨ä¿®å¤**ï¼š
1. API è¿”å› Mock æ•°æ®ï¼ˆ2-3 å¤©ï¼‰
2. ç¼“å­˜ä¸ä¸€è‡´ï¼ˆ1-2 å¤©ï¼‰
3. æ–‡ä»¶å¹¶å‘é£é™©ï¼ˆ1-2 å¤©ï¼‰

**ä¸ä¿®å¤è¿™äº›é—®é¢˜ï¼ŒAPI æ— æ³•ç”¨äºç”Ÿäº§ï¼**

### æŠ•èµ„å›æŠ¥

- **æˆæœ¬**: 50-60 å¤©å·¥ç¨‹å¸ˆæ—¶é—´
- **æ”¶ç›Š**:
  - ç”Ÿäº§çº§ APIï¼ˆç¬¬ 1 å‘¨ï¼‰
  - ä¼ä¸šçº§å¯é æ€§ï¼ˆç¬¬ 6 å‘¨ï¼‰
  - 1000+ ç”¨æˆ·æ”¯æŒï¼ˆæ— é¢å¤–æ”¹åŠ¨ï¼‰
  - é›¶æŠ€æœ¯å€ºï¼ˆä»£ç åº“æ¸…æ™°ï¼‰
  - æ˜“äºæ‰©å±•ï¼ˆå­˜å‚¨ã€å®æ—¶ã€å¤šå®ä¾‹ï¼‰

---

**æ–‡æ¡£ç”Ÿæˆæ—¥æœŸ**: 2025-11-12
**ä½œè€…**: first-principles-fullstack-architect
**å®¡é˜…**: æ¨èå®æ–½

